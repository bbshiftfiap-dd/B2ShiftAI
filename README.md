# üöÄ AI-B2Shift: Plataforma Completa de Analytics e IA para Clientes B2B

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![Terraform](https://img.shields.io/badge/terraform-%235835CC.svg?style=flat&logo=terraform&logoColor=white)](https://www.terraform.io/)
[![Google Cloud](https://img.shields.io/badge/GoogleCloud-%234285F4.svg?style=flat&logo=google-cloud&logoColor=white)](https://cloud.google.com)

> **Uma solu√ß√£o end-to-end de Analytics e IA Generativa para transforma√ß√£o digital de neg√≥cios B2B da TOTVS**

## üìã Vis√£o Geral

O AI-B2Shift √© uma plataforma completa que combina **Data Engineering**, **Machine Learning** e **IA Generativa** para revolucionar a an√°lise de clientes B2B. A solu√ß√£o integra m√∫ltiplas tecnologias de ponta para fornecer insights acion√°veis, segmenta√ß√£o inteligente e estrat√©gias personalizadas.

### üéØ Principais Capacidades

- **ü§ñ AI Ag√™ntico Multi-Agent**: Sistema de IA com agentes especializados para an√°lise de clusteriza√ß√£o
- **üìä Data Lake & Warehouse**: Arquitetura completa de dados no GCP com 4 camadas
- **üî¨ Machine Learning**: Modelos avan√ßados de clusteriza√ß√£o e an√°lise preditiva
- **‚òÅÔ∏è Infrastructure as Code**: Deploy automatizado de toda infraestrutura GCP
- **üìà Analytics Avan√ßado**: Dashboards interativos e KPIs de neg√≥cio

## üèóÔ∏è Arquitetura da Solu√ß√£o

```mermaid
graph TB
    subgraph "Data Sources"
        A[Sales CRM] --> D[Data Lake]
        B[Customer Data] --> D
        C[External APIs] --> D
    end
    
    subgraph "GCP Data Platform"
        D[Cloud Storage] --> E[BigQuery DW]
        E --> F[Dataflow ETL]
        F --> G[ML Models]
    end
    
    subgraph "AI Agentic Layer"
        H[Root Agent] --> I[Data Agent]
        H --> J[Cluster Agent]
        H --> K[Decision Agent]
    end
    
    subgraph "Business Layer"
        L[Customer 360]
        M[Segmentation]
        N[Strategies]
        O[ROI Projections]
    end
    
    G --> H
    K --> L
    J --> M
    K --> N
    K --> O
```

## üìÅ Estrutura do Projeto

```
AI-B2Shift/
‚îú‚îÄ‚îÄ üìÅ AIAgentic/                          # ü§ñ Sistema de IA Multi-Agent
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ b2shift-cluster-agent-adk/      # Agent principal de clusteriza√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ B2Shift_Agentic_AI_*.json       # Configura√ß√µes de campanha
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ *_Documentacao.docx             # Documenta√ß√£o t√©cnica
‚îú‚îÄ‚îÄ üìÅ AICluster/                          # üî¨ Notebooks de Machine Learning
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ b2shift_clustering.ipynb        # An√°lise de clusteriza√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ b2shift_etl_novo.ipynb          # Pipeline de ETL
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ b2shift_etl_refined_*.ipynb     # ETL refinado e otimizado
‚îú‚îÄ‚îÄ üìÅ GCP-IaaC/                           # ‚òÅÔ∏è Infrastructure as Code
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ gcp-b2bshift-iac/               # Terraform scripts para GCP
‚îú‚îÄ‚îÄ üìÑ B2Shift - TOTVS Sprint 1 & 2.pdf    # üìã Documenta√ß√£o de requisitos
‚îî‚îÄ‚îÄ üìÑ EC_Sprint_4_*.pdf                   # üìä Relat√≥rio de resultados
```

## üöÄ Quick Start

### 1. Clone o Reposit√≥rio

```bash
git clone https://github.com/seu-usuario/AI-B2Shift.git
cd AI-B2Shift
```

### 2. Configure a Infraestrutura GCP

```bash
cd GCP-IaaC/gcp-b2bshift-iac
cp terraform.tfvars.example terraform.tfvars
# Edite terraform.tfvars com seus valores
terraform init
terraform plan
terraform apply
```

### 3. Execute o AI Agent

```bash
cd AIAgentic/b2shift-cluster-agent-adk/b2shift-cluster-agent
poetry install
make quickstart
make demo
```

### 4. Execute An√°lises de ML

```bash
cd AICluster
jupyter notebook b2shift_clustering.ipynb
```

## ü§ñ AI Agentic System

### Arquitetura Multi-Agent

O sistema de IA √© composto por agentes especializados que trabalham em conjunto:

```python
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 B2Shift Root Agent                      ‚îÇ
‚îÇ         (Orquestra√ß√£o e Decis√µes Estrat√©gicas)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ            ‚îÇ            ‚îÇ              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Data   ‚îÇ ‚îÇ Cluster ‚îÇ ‚îÇ Decision  ‚îÇ ‚îÇ   Tools   ‚îÇ
‚îÇ Agent   ‚îÇ ‚îÇ  Agent  ‚îÇ ‚îÇ   Agent   ‚îÇ ‚îÇ& Utilities‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Principais Funcionalidades

#### üîç An√°lise de Clusteriza√ß√£o
```python
# Exemplo de uso
query = """
Analise os clientes B2B e identifique os principais clusters 
comportamentais com estrat√©gias espec√≠ficas para cada segmento
"""
result = await agent.analyze(query)
```

#### üìä Gera√ß√£o de Estrat√©gias
- **Go-to-market** personalizado por cluster
- **Pricing** otimizado por segmento
- **ROI projections** para cada estrat√©gia
- **KPIs** de acompanhamento

#### üéØ Capacidades do Sistema
- **Segmenta√ß√£o Autom√°tica**: K-Means, DBSCAN, Hierarchical
- **An√°lise Preditiva**: Churn, LTV, Expansion
- **Otimiza√ß√£o de Portfolio**: Recursos e investimentos
- **Intelligence de Mercado**: Trends e oportunidades

## üìä Data Platform (GCP)

### Arquitetura de Dados em 4 Camadas

| Camada | Descri√ß√£o | Tecnologia | Uso |
|--------|-----------|------------|-----|
| **üîµ Raw** | Dados brutos das fontes | BigQuery | Auditoria, troubleshooting |
| **üü¢ Trusted** | Dados limpos e validados | BigQuery | An√°lises explorat√≥rias |
| **üü° Refined** | Star Schema para analytics | BigQuery | Dashboards, relat√≥rios |
| **üî¥ Analytics** | KPIs e m√©tricas de neg√≥cio | BigQuery | Executive dashboards |

### Principais Datasets

#### Fontes de Dados Internas
- **Sales Proposals History**: Hist√≥rico de propostas comerciais
- **Customer Stats**: Estat√≠sticas detalhadas dos clientes
- **Recent Contracts**: Contratos ativos e recentes
- **Customer MRR**: Monthly Recurring Revenue
- **NPS Relational**: Pesquisas de satisfa√ß√£o
- **Support Tickets**: Tickets de suporte ao cliente

#### Dados Externos
- **Brazilian Market Data**: Dados de mercado por setor
- **Demographic Data**: Demografia regional

### Stack Tecnol√≥gico

| Componente | Tecnologia | Fun√ß√£o |
|------------|------------|---------|
| **Data Lake** | Cloud Storage | Armazenamento raw |
| **Data Warehouse** | BigQuery | Analytics OLAP |
| **ETL/ELT** | Dataflow + Dataproc | Processamento |
| **ML Platform** | Vertex AI | Modelos e predictions |
| **Orquestra√ß√£o** | Cloud Composer (Airflow) | Workflows |
| **Governan√ßa** | DataPlex | Quality e catalog |

## üî¨ Machine Learning

### Algoritmos de Clusteriza√ß√£o

#### K-Means Adaptativo
```python
# Determina√ß√£o autom√°tica do n√∫mero de clusters
def adaptive_kmeans(data, max_clusters=10):
    silhouette_scores = []
    for k in range(2, max_clusters+1):
        kmeans = KMeans(n_clusters=k, random_state=42)
        labels = kmeans.fit_predict(data)
        score = silhouette_score(data, labels)
        silhouette_scores.append(score)
    
    optimal_k = np.argmax(silhouette_scores) + 2
    return KMeans(n_clusters=optimal_k, random_state=42)
```

#### DBSCAN para Outliers
- Identifica√ß√£o de clientes √∫nicos
- Detec√ß√£o de comportamentos an√¥malos
- Tratamento de ru√≠do nos dados

#### Clustering Hier√°rquico
- An√°lise de sub-segmentos
- Dendrogramas para visualiza√ß√£o
- Relacionamentos entre clusters

### M√©tricas de Valida√ß√£o

| M√©trica | Interpreta√ß√£o | Meta |
|---------|---------------|------|
| **Silhouette Score** | Qualidade da separa√ß√£o | > 0.5 |
| **Davies-Bouldin Index** | Compacidade vs Separa√ß√£o | < 1.0 |
| **Calinski-Harabasz** | Vari√¢ncia inter/intra clusters | > 100 |

## üí∞ Valor de Neg√≥cio

### Impactos Mensur√°veis

| M√©trica | Melhoria Esperada | Como Medimos |
|---------|------------------|-------------|
| **Convers√£o** | +15-25% | Segmenta√ß√£o precisa |
| **Reten√ß√£o** | +20-30% | Predi√ß√£o proativa de churn |
| **ROI Marketing** | +30-40% | Otimiza√ß√£o de portfolio |
| **Efici√™ncia Anal√≠tica** | +50-60% | Automa√ß√£o vs processo manual |

### KPIs de Acompanhamento

#### Por Cluster
- **Revenue**: MRR, ARR, LTV
- **Engagement**: NPS, Support tickets, Feature adoption
- **Growth**: Expansion rate, Upsell success
- **Risk**: Churn probability, Health score

#### Operacionais
- **Data Quality**: Completeness, accuracy, freshness
- **Model Performance**: Precision, recall, F1-score
- **System Health**: Uptime, latency, error rates

## üîß Configura√ß√£o e Deploy

### Pr√©-requisitos

```bash
# Ferramentas necess√°rias
- Python 3.8+
- Terraform >= 1.3.0
- Google Cloud SDK
- Poetry (Python package manager)
- Docker (opcional)
```

### Configura√ß√£o do GCP

1. **Criar projeto GCP**
```bash
gcloud projects create seu-projeto-b2shift
gcloud config set project seu-projeto-b2shift
```

2. **Habilitar APIs necess√°rias**
```bash
gcloud services enable bigquery.googleapis.com
gcloud services enable dataflow.googleapis.com
gcloud services enable aiplatform.googleapis.com
gcloud services enable composer.googleapis.com
```

3. **Configurar credenciais**
```bash
gcloud auth application-default login
```

### Deploy da Infraestrutura

```bash
cd GCP-IaaC/gcp-b2bshift-iac
terraform init
terraform plan -var-file="terraform.tfvars"
terraform apply -auto-approve
```

### Deploy do AI Agent

```bash
cd AIAgentic/b2shift-cluster-agent-adk/b2shift-cluster-agent
poetry install
poetry run adk deploy --create
```

## üìà Exemplos de Uso

### 1. An√°lise B√°sica de Clusters

```python
# Query para an√°lise completa
query = """
Analise os dados de clientes B2B da TOTVS e identifique:
1. Principais clusters comportamentais
2. Caracter√≠sticas de cada segmento
3. Estrat√©gias recomendadas
4. Proje√ß√µes de ROI
"""

result = await b2shift_agent.analyze(query)
print(result.insights)
```

### 2. Estrat√©gia para Cluster Espec√≠fico

```python
query = """
Para o cluster de PMEs tecnol√≥gicas:
- Gere estrat√©gia go-to-market
- Defina pricing personalizado  
- Projete ROI em 12 meses
- Estabele√ßa KPIs de acompanhamento
"""

strategy = await b2shift_agent.generate_strategy(query)
print(strategy.action_plan)
```

### 3. An√°lise Preditiva

```python
query = """
Analise o cliente ACME Corp e:
- Prediga probabilidade de churn
- Identifique oportunidades de upsell
- Recomende a√ß√µes preventivas
- Calcule lifetime value projetado
"""

prediction = await b2shift_agent.predict(query)
print(prediction.recommendations)
```

## üìä Dashboards e Visualiza√ß√µes

### Executive Dashboard
- **Customer 360**: Vis√£o hol√≠stica por cliente
- **Cluster Performance**: M√©tricas por segmento
- **Revenue Analytics**: An√°lises financeiras
- **Market Intelligence**: Insights de mercado

### Operational Dashboard
- **Data Quality**: Health dos pipelines
- **Model Performance**: M√©tricas de ML
- **System Monitoring**: Sa√∫de da infraestrutura

### Business Intelligence
- **Cohort Analysis**: An√°lise de coortes
- **Funnel Analysis**: Convers√£o por etapa
- **Churn Analysis**: Fatores de abandono

## üîí Seguran√ßa e Compliance

### Data Security
- **Encryption**: At rest e in transit (AES-256)
- **Access Control**: IAM roles granulares
- **Data Masking**: Prote√ß√£o de PII em dev/test
- **Audit Logging**: Rastreamento completo

### Compliance
- **LGPD**: Conformidade com lei brasileira
- **SOX**: Controles para dados financeiros
- **ISO 27001**: Padr√µes internacionais
- **SOC 2**: Security e availability controls

### Model Security
- **Input Validation**: Sanitiza√ß√£o rigorosa
- **Output Filtering**: Preven√ß√£o de data leakage
- **Prompt Injection Protection**: Defesas avan√ßadas
- **Model Versioning**: Controle e rollbacks

## üöÄ Roadmap

### Q1 2024
- [x] ‚úÖ **Infraestrutura GCP**: Deploy completo
- [x] ‚úÖ **AI Multi-Agent**: Sistema funcional
- [x] ‚úÖ **ML Clustering**: Algoritmos implementados
- [x] ‚úÖ **Data Pipeline**: ETL automatizado

### Q2 2024
- [ ] üîÑ **API REST**: Endpoints para integra√ß√£o
- [ ] üîÑ **Real-time Analytics**: Streaming de dados
- [ ] üîÑ **Advanced ML**: Deep learning models
- [ ] üîÑ **Mobile App**: Dashboard mobile

### Q3 2024
- [ ] üìã **Auto-ML**: AutoML para otimiza√ß√£o
- [ ] üìã **Edge Computing**: Deploy em edge
- [ ] üìã **Multi-tenant**: Suporte a m√∫ltiplos clientes
- [ ] üìã **Advanced Security**: Zero-trust architecture

### Q4 2024
- [ ] üìã **Global Expansion**: Deploy multi-region
- [ ] üìã **AI Explainability**: Modelos interpret√°veis
- [ ] üìã **Federated Learning**: ML distribu√≠do
- [ ] üìã **Quantum-ready**: Prepara√ß√£o para quantum computing

## üë• Equipe e Contribui√ß√£o

### Core Team
- **Data Science**: Implementa√ß√£o de algoritmos ML
- **Engineering**: Arquitetura e infraestrutura
- **Product**: Defini√ß√£o de features e UX
- **Business**: Estrat√©gias e valida√ß√£o de valor

### Como Contribuir

1. **Fork** o projeto
2. **Crie** uma branch (`git checkout -b feature/nova-feature`)
3. **Commit** suas mudan√ßas (`git commit -am 'Add: nova feature'`)
4. **Push** para a branch (`git push origin feature/nova-feature`)
5. **Abra** um Pull Request

### Coding Standards
- **Python**: PEP 8, type hints, docstrings
- **Terraform**: HCL best practices, modules
- **SQL**: Style guide para queries
- **Documentation**: Markdown, diagramas Mermaid

## üìû Suporte e Contato

### Canais de Suporte
- **üìß Email**: data-team@b2shift.com
- **üí¨ Slack**: #ai-b2shift
- **üêõ Issues**: GitHub Issues para bugs
- **üí° Discussions**: GitHub Discussions para ideias

### Documenta√ß√£o Adicional
- **üìö Wiki**: [Documenta√ß√£o completa](docs/)
- **üé• Videos**: [Tutoriais no YouTube](https://youtube.com/ai-b2shift)
- **üìñ Blog**: [Medium Blog](https://medium.com/@ai-b2shift)
- **üéì Courses**: [Udemy Course](https://udemy.com/ai-b2shift)

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a **MIT License**. Veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## üéä Agradecimentos

Agradecemos √† **TOTVS** pela parceria e confian√ßa, e a toda equipe que tornou este projeto poss√≠vel. Este √© um exemplo de como **Data Science**, **IA Generativa** e **Cloud Computing** podem transformar neg√≥cios B2B.

### Partners & Sponsors
- **üè¢ TOTVS**: Parceiro estrat√©gico e sponsor principal
- **‚òÅÔ∏è Google Cloud**: Infraestrutura e ML Platform
- **ü§ñ OpenAI/Google**: Modelos de IA Generativa
- **üìä Looker**: Business Intelligence Platform

---

<div align="center">

**üöÄ AI-B2Shift: Transformando o Futuro dos Neg√≥cios B2B com IA üöÄ**

[![GitHub Stars](https://img.shields.io/github/stars/seu-usuario/AI-B2Shift?style=social)](https://github.com/seu-usuario/AI-B2Shift/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/seu-usuario/AI-B2Shift?style=social)](https://github.com/seu-usuario/AI-B2Shift/network)
[![LinkedIn](https://img.shields.io/badge/LinkedIn-Connect-blue?style=social&logo=linkedin)](https://linkedin.com/company/ai-b2shift)

*Feito com ‚ù§Ô∏è pela equipe AI-B2Shift*

</div>
